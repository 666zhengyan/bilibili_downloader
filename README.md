# bilibili_downloader
用于下载bilibili上的番剧（目前功能）
# 用法描述
* 首先你需要安装两个重要的工具，playwright和ffmpeg
* 前者用来辅助登录以及截获网络请求，后者用来合并以及转码视频
* 安装好环境后，运行那个GUI代码即可，然后键入视频播放页面地址
# 功能描述
* 保存登录信息，当你第一次登录，会导航到B站的主页，你需要手动进行登录，并点击弹出的界面中继续执行脚本的按钮，会自动保存cookie到本地，下次执行时会自动登录，就没有这一步了
* 并行下载多个番剧视频（需要良好的网络环境）
* 能够下载的视频取决于你是否为大会员，若为大会员，则也可下载大会员番剧
# 原理介绍
* 利用playwright拦截特定的网络信息
* 对每个视频和音频进行手动分片并异步下载，理论上能够提升下载速度，但需要较好的网络环境
* 每个下载进程会使用异步分块下载的策略，下载失败的分片会自动进入失败列表，后面会重新进行更稳定的同步下载
* ffmpeg对合并后的视频进行转码，使得普通播放器也能播放，默认启用GPU加速转码（N卡）
# 可能存在的问题
* 异步下载片段需要有比较好的网络环境，否则容易失败
* 并发量较高时可能会有无法预料的错误，特别是并行下载的时候
# 使用截图
* ![屏幕截图 2024-04-04 192546](https://github.com/666zhengyan/bilibili_downloader/assets/158262400/caca489b-3d3c-4aab-8880-7e7709e76da7)
* ![屏幕截图 2024-04-04 193623](https://github.com/666zhengyan/bilibili_downloader/assets/158262400/9da571f9-43b2-431b-bd3b-e4d53d39c88c)
* ![屏幕截图 2024-04-04 195718](https://github.com/666zhengyan/bilibili_downloader/assets/158262400/23517abd-9f4e-4f33-95e4-b606114d7f8b)



